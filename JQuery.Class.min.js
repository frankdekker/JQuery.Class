(function(){this.Class=function(b){b=b||{};var a=function(){for(var a in this){var b=this[a];switch($.type(b)){case "object":this[a]=$.extend(!0,{},b);break;case "array":this[a]=$.extend(!0,[],b)}}return this.initialize?this.initialize.apply(this,arguments):this};a.$definition=b;e(a.prototype,b);a.prototype.parentMethod=function(){if(arguments.callee.caller===this.$parent)throw"This function has no parent.";this.$parent.apply(this,arguments)};return a};var e=function(b,a){for(var d in a)!1!==a.hasOwnProperty(d)&&
void 0!==a[d]&&("Extends"===d?$.each("array"===$.type(a.Extends)?a.Extends:[a.Extends],function(){e(b,this.$definition)}):"function"===$.type(b[d])&&"function"===$.type(a[d])?b[d]=c(a[d],b[d]):b[d]=a[d])},c=function(b,a){return function(){var c=this.$parent;this.$parent=a;b.apply(this,arguments);this.$parent=c}}})();(function(){var e=function(c){return c.replace(/^on([A-Z])/,function(b,a){return a.toLowerCase()})};this.Events=new Class({$events:{},on:function(c,b){c=e(c);var a=this.$events[c]||[];0>$.inArray(a,b)&&(a.push(b),this.$events[c]=a);return this},off:function(c,b){c=e(c);var a=this.$events[c];if(a)if(void 0==b)delete this.$events[c];else{var d=a.indexOf(b);-1!=d&&delete a[d]}return this},trigger:function(c,b){var a,d;c=e(c);a=this.$events[c];if(!a)return this;b=$.isArray(b)?b:[b];for(d=0;d<a.length;d++)a[d]&&
a[d].apply(this,b);return this}});this.Options=new Class({setOptions:function(){var c=this.options=$.extend.apply(null,$.merge([{},this.options],arguments));if(this.on)for(var b in c)"function"==$.type(c[b])&&/^on[A-Z]/.test(b)&&(this.on(b,c[b]),delete c[b]);return this}})})();
