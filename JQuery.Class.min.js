(function(){this.Class=function(a){a=a||{};var b=function(){for(var a in this){var b=this[a];switch($.type(b)){case "object":this[a]=$.extend(!0,{},b);break;case "array":this[a]=$.extend(!0,[],b)}}return this.initialize?this.initialize.apply(this,arguments):this};b.$definition=a;e(b.prototype,a);b.prototype.parentMethod=function(){try{if(arguments.callee.caller===this.$parent)return window.console&&console.error("This function has no parent."),!1}catch(a){}return this.$parent.apply(this,arguments)};
return b};var e=function(a,b){for(var d in b)!1!==b.hasOwnProperty(d)&&void 0!==b[d]&&("Extends"===d?$.each("array"===$.type(b.Extends)?b.Extends:[b.Extends],function(){e(a,this.$definition)}):$.isFunction(a[d])&&$.isFunction(b[d])?a[d]=c(b[d],a[d]):a[d]=b[d])},c=function(a,b){return function(){var c=this.$parent;this.$parent=b;var e=a.apply(this,arguments);this.$parent=c;return e}}})();(function(){var e=function(c){return c.replace(/^on([A-Z])/,function(a,b){return b.toLowerCase()})};this.Chain=new Class({$chains:[],chain:function(c){this.$chains.push(c);return this},callChain:function(c){if(0==this.$chains.length)return this;var a=this.$chains.shift();"function"==typeof a&&a.apply(arguments);return this},clearChain:function(){this.$chains=[];return this}});this.Events=new Class({$events:{},on:function(c,a){c=e(c);var b=this.$events[c]||[];0>$.inArray(b,a)&&(b.push(a),this.$events[c]=
b);return this},off:function(c,a){c=e(c);var b=this.$events[c];if(b)if(void 0==a)delete this.$events[c];else{var d=b.indexOf(a);-1!=d&&delete b[d]}return this},trigger:function(c,a){var b,d;c=e(c);b=this.$events[c];if(!b)return this;a=$.isArray(a)?a:[a];for(d=0;d<b.length;d++)b[d]&&b[d].apply(this,a);return this}});this.Options=new Class({setOptions:function(){var c=this.options=$.extend.apply(null,$.merge([{},this.options],arguments));if(this.on)for(var a in c)"function"==$.type(c[a])&&/^on[A-Z]/.test(a)&&
(this.on(a,c[a]),delete c[a]);return this}})})();
